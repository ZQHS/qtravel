# 旅游造数项目启动脚本

## 1 脚本位置

脚本和jar包目前放置在242服务器上的/home/apps中，分别有原始数据模拟qf_travel_ods.sh 和 清洗后事实数据模qf_travel_dw.sh



## 2 项目打包

进入idea的qdata项目命令行：mvn clear package -Dmaven.test.skip=true -P dev

![](D:\千峰课程大纲\master\document-md\2019大数据项目库\旅游项目\pic\qdata_package.png)



打包对应执行类

在qdata项目的pom文件中，如下图所示

![1580888326026](pic\qdata_pom.png)



## 3 示例

备注：下面的$path表示你放置jar的路径



### (1) 用户行为日志数据(真实时间)

--topic 数据写入kafka对应topic 如 t_travel_ods

--source 设置是ods原始数据还是事实数据dw,值只能是[ods或dw]

--begin 设置数据产生时间 格式为yyyyMMddHHmmss

--end 设置数据结束时间 格式为yyyyMMddHHmmss

--count 设置每次数据生产数量（1 < count < 10000区间）

--sleep 设置每次数据生产间隔（1秒 < sleep < 60秒）,如3000=1000 * 3 时间戳值

java -jar $path/qdata-1.0-SNAPSHOT-TravelCurDataJob.jar --topic t_travel_ods --source ods -begin 20191212103000 --end 20191212103500 --count 1000 --sleep 3000



### (2) 用户行为日志数据(模拟时间)

--topic 数据写入kafka对应topic 如 t_travel_dw

--source 设置是ods原始数据还是事实数据dw,值只能是[ods或dw]

--begin 设置数据产生时间 格式为yyyyMMddHHmmss

--end 设置数据结束时间 格式为yyyyMMddHHmmss

--count 设置每次数据生产数量（1 < count < 10000区间）

--sleep 设置每次数据生产间隔（1秒 < sleep < 60秒）,如3000=1000 * 3 时间戳值

java -jar $path/qdata-1.0-SNAPSHOT-TravelDataJob.jar --topic t_travel_dw --source ods -begin 20191212103000 --end 20191212103500 --count 1000 --sleep 3000



### (3) 旅游订单数据(真实时间)

--topic 数据写入kafka对应topic 如 t_order_ods

--source 设置是product

--begin 设置数据产生时间 格式为yyyyMMddHHmmss 【可选，无参数为当前jar所在机器的系统时间】

--end 设置数据结束时间 格式为yyyyMMddHHmmss 【可选，无参数为当前jar所在机器的系统时间】

--count 设置每次数据生产数量（1 < count < 10000区间）

--sleep 设置每次数据生产间隔（1秒 < sleep < 3600秒）,如3000=1000 * 3 时间戳值

java -jar $path/qdata-1.0-SNAPSHOT-TravelOrderDataJob.jar --topic t_order_ods --source product -begin 20191212103000 --end 20191212103500 --count 1000 --sleep 3000

或者

java -jar $path/qdata-1.0-SNAPSHOT-TravelOrderDataJob.jar --topic t_order_ods --source product --count 1000 --sleep 3000